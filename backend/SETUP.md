# üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ YandexGPT API

## üìã –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ API –∫–ª—é—á–∞

1. **–ó–∞–π–¥–∏—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å Yandex Cloud:**
   - –û—Ç–∫—Ä–æ–π—Ç–µ https://console.cloud.yandex.ru/
   - –í–æ–π–¥–∏—Ç–µ –≤ —Å–≤–æ–π –∞–∫–∫–∞—É–Ω—Ç

2. **–°–æ–∑–¥–∞–π—Ç–µ API –∫–ª—é—á:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª **IAM** ‚Üí **API –∫–ª—é—á–∏**
   - –ù–∞–∂–º–∏—Ç–µ **"–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π –∫–ª—é—á"**
   - –í—ã–±–µ—Ä–∏—Ç–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç –∏–ª–∏ —Å–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –∫–ª—é—á (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `AQVN...`)

### 2. –ü–æ–ª—É—á–µ–Ω–∏–µ FOLDER_ID

1. **–ù–∞–π–¥–∏—Ç–µ ID –∫–∞—Ç–∞–ª–æ–≥–∞:**
   - –í –∫–æ–Ω—Å–æ–ª–∏ Yandex Cloud –≤—ã–±–µ—Ä–∏—Ç–µ –Ω—É–∂–Ω—ã–π –∫–∞—Ç–∞–ª–æ–≥
   - ID –∫–∞—Ç–∞–ª–æ–≥–∞ –±—É–¥–µ—Ç –≤ URL: `console.cloud.yandex.ru/folders/{FOLDER_ID}`
   - –ò–ª–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∫–∞—Ç–∞–ª–æ–≥–∞

2. **–§–æ—Ä–º–∞—Ç FOLDER_ID:**
   - –î–æ–ª–∂–µ–Ω –±—ã—Ç—å 20-—Å–∏–º–≤–æ–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π
   - –ü—Ä–∏–º–µ—Ä: `b1g4854pso9q87p5lg8p`

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞

1. **–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –µ—Å—Ç—å —Ä–æ–ª—å:**
   - `ai.languageModels.user` - –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è YandexGPT
   - `ai.languageModels.admin` - –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–≤–æ—Ç—ã:**
   - –í —Ä–∞–∑–¥–µ–ª–µ **AI** ‚Üí **Foundation Models**
   - –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å –¥–æ—Å—Ç—É–ø –∫ YandexGPT

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `backend/.env`:

```env
# Backend Configuration
PORT=3001
NODE_ENV=development
FRONTEND_URL=http://localhost:8080

# YandexGPT API Configuration
YANDEX_API_KEY=AQVN0SCNpELF9pagIh5CU0Gt2UNzveLcNEuOy9Aw
YANDEX_FOLDER_ID=b1g4854pso9q87p5lg8p

# Database Configuration
DB_PATH=./data/analyses.db

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
```

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Ç–µ—Å—Ç:

```bash
cd backend
node test-api.js
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
‚úÖ –°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ!
ü§ñ –û—Ç–≤–µ—Ç: –ü—Ä–∏–≤–µ—Ç! –≠—Ç–æ —Ç–µ—Å—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.
üéâ API –∫–ª—é—á–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!
```

### 6. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±—ç–∫–µ–Ω–¥:

```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–µ–∫—É—â–∏–π –ø—Ä–æ—Ü–µ—Å—Å (Ctrl+C)
# –ó–∞—Ç–µ–º –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∑–∞–Ω–æ–≤–æ
npm run dev
```

## üîç –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –û—à–∏–±–∫–∞ 401 - –ù–µ–≤–µ—Ä–Ω—ã–π API –∫–ª—é—á
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `YANDEX_API_KEY`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –Ω–µ –∏—Å—Ç–µ–∫
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–ª—é—á —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é

### –û—à–∏–±–∫–∞ 403 - –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –µ—Å—Ç—å —Ä–æ–ª—å `ai.languageModels.user`
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∞–∫–∫–∞—É–Ω—Ç –∞–∫—Ç–∏–≤–µ–Ω

### –û—à–∏–±–∫–∞ 404 - –ù–µ–≤–µ—Ä–Ω—ã–π FOLDER_ID
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å `YANDEX_FOLDER_ID`
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞—Ç–∞–ª–æ–≥ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –¥–æ—Å—Ç—É–ø–µ–Ω

### –¢–∞–π–º–∞—É—Ç
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —É–≤–µ–ª–∏—á–∏—Ç—å —Ç–∞–π–º–∞—É—Ç –≤ –∫–æ–¥–µ

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è YandexGPT](https://yandex.cloud/ru/docs/foundation-models/)
- [–ö–æ–Ω—Å–æ–ª—å Yandex Cloud](https://console.cloud.yandex.ru/)
- [–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ API –∫–ª—é—á–∞–º–∏](https://console.cloud.yandex.ru/iam/api-keys)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ–ª–µ–π](https://console.cloud.yandex.ru/iam/roles)